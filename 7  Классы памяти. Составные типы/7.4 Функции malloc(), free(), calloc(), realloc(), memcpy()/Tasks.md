# 7.4 Функции malloc(), free(), calloc(), realloc(), memcpy(). Задачи

## Task 4 - Подвиг 4

Продолжите программу. Объявите указатель с именем data типа данных short и выделите из кучи память под четыре элемента типа short. Затем, через указатель data занесите в эту область памяти значения:
-4, 3, 0, 100
Указатель data, при этом не должен менять свой адрес (ссылаться по-прежнему на начало выделенной области).
P. S. В консоль ничего выводить не нужно. Не забудьте в конце (после \__ASSERT_TESTS__) освободить память.

## Task 5 - Подвиг 5

Продолжите программу. Из входного потока прочитайте вещественные значения, записанные в одну строчку через пробел, и сохраните их в массиве digits типа double. Максимальное количество читаемых значений не более 20 (это нужно контролировать, в потоке чисел может быть больше). В целочисленной переменной count должно храниться количество прочитанных чисел.
Выделите дополнительно память, ровно столько, чтобы в нее помещались все прочитанные вещественные числа (тип double). На выделенную область должен ссылаться указатель ptr_d. Скопируйте из массива digits прочитанные числа в выделенную память. Указатель ptr_d при этом не должен менять свой адрес.
P. S. В консоль ничего выводить не нужно. Не забудьте в конце (после \__ASSERT_TESTS__) освободить память.
Тесты: https://github.com/selfedu-rus/c-tests/tree/main/7.4.5

## Task 7 - Подвиг 7

Продолжите программу. Из входного потока прочитайте целочисленные значения, записанные в одну строчку через пробел, и сохраните их в массиве lengths типа int. Максимальное количество читаемых значений не более 20 (это нужно контролировать, в потоке чисел может быть больше). В целочисленной переменной count должно храниться количество прочитанных чисел.
Выделите память для хранения 20 целочисленных значений (тип int) с помощью функции calloc. На выделенную область должен ссылаться указатель ptr_lens. Скопируйте из массива lengths прочитанные числа в выделенную память, используя функцию memcpy (копировать следует не весь массив lengths, а только часть с хранимыми (прочитанными) данными). Указатель ptr_lens при этом не должен менять свой адрес. Выведите в консоль все 20 чисел типа int из области памяти ptr_lens в одну строчку через пробел.
P. S. Не забудьте в конце (после \__ASSERT_TESTS__) освободить память.
Тесты: https://github.com/selfedu-rus/c-tests/tree/main/7.4.7

## Task 8 - Подвиг 8

Продолжите программу. Необходимо объявить функцию со следующей сигнатурой:
```void* expand_array(short* ptr, size_t* len, short fill);```
Здесь *len - длина массива (число его элементов). Данная функция должна удваивать размер области памяти, выделенной под указатель ptr, в новую область копировать прежние данные, а остальные заполнять значениями fill. Прежняя область должна освобождаться (если была выделена новая). Значение размера *len нужно также увеличить в два раза. В конце функция expand_array должна вернуть адрес удвоенной области памяти.
В функции main вызовите функцию expand_array для удвоения памяти, на которую ведет указатель ptr_d, и значением fill = -1. В результате указатель ptr_d должен ссылаться на удвоенную область памяти. Затем, через указатель ptr_d выведите в консоль в одну строчку через пробел все целые числа типа short, хранящиеся в удвоенной области памяти.
Тесты: https://github.com/selfedu-rus/c-tests/tree/main/7.4.8

## Task 9 - Подвиг 9

Продолжите программу. Объявите функцию со следующей сигнатурой:
```char * merge_string(const char* str1, const char* str2);```
Данная функция должна выделить память под новую строку так, чтобы в нее помещались все символы первой (str1) и второй (str2) строк. Затем, в новую строку скопировать сначала содержимое первой строки (только символы строки), а следом за ней содержимое второй строки. В конце не забудьте добавить символ '\0', чтобы сформировать корректную Си-строку. После объединения функция merge_string должна вернуть адрес сформированной строки.
В функции main вызовите функцию merge_string для объединения строк str_1 и str_2 (именно в таком порядке). Выведите в консоль полученную строку.
P. S. Не забудьте в конце программы освободить выделенную память.
Тесты: https://github.com/selfedu-rus/c-tests/tree/main/7.4.9